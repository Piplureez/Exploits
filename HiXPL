-- Gui to Lua
-- Version: 3.2

-- Instances:

local Esp = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextLabel = Instance.new("TextLabel")
local On = Instance.new("TextButton")
local Off = Instance.new("TextButton")
local Exit = Instance.new("TextButton")
local OnButt = Instance.new("Frame")
local TextButton = Instance.new("TextButton")

--Properties:

Esp.Name = "Esp"
Esp.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Esp.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = Esp
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BackgroundTransparency = 0.500
Frame.Position = UDim2.new(0.39779681, 0, 0.37499997, 0)
Frame.Size = UDim2.new(0.203182399, 1, 0.247340426, 1)

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.Size = UDim2.new(1, 1, 0.202127829, 1)
TextLabel.Font = Enum.Font.SourceSansBold
TextLabel.Text = "HiXPL"
TextLabel.TextColor3 = Color3.fromRGB(250, 250, 250)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

On.Name = "On"
On.Parent = Frame
On.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
On.BackgroundTransparency = 1.000
On.Position = UDim2.new(0.497005939, 0, 0.595744848, 0)
On.Size = UDim2.new(0.502994001, 1, 0.382978886, 1)
On.Font = Enum.Font.SourceSansBold
On.Text = "On"
On.TextColor3 = Color3.fromRGB(0, 250, 0)
On.TextScaled = true
On.TextSize = 14.000
On.TextWrapped = true

Off.Name = "Off"
Off.Parent = Frame
Off.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Off.BackgroundTransparency = 1.000
Off.Position = UDim2.new(-0.0119760465, 0, 0.595744848, 0)
Off.Size = UDim2.new(0.502994001, 1, 0.382978886, 1)
Off.Font = Enum.Font.SourceSansBold
Off.Text = "Off"
Off.TextColor3 = Color3.fromRGB(250, 0, 0)
Off.TextScaled = true
Off.TextSize = 14.000
Off.TextWrapped = true

Exit.Name = "Exit"
Exit.Parent = Frame
Exit.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Exit.BackgroundTransparency = 1.000
Exit.Position = UDim2.new(0.814371169, 0, 1.62327538e-07, 0)
Exit.Size = UDim2.new(0.185628727, 1, 0.202127844, 1)
Exit.Font = Enum.Font.SourceSansBold
Exit.Text = "X"
Exit.TextColor3 = Color3.fromRGB(250, 0, 0)
Exit.TextScaled = true
Exit.TextSize = 14.000
Exit.TextWrapped = true

OnButt.Name = "OnButt"
OnButt.Parent = Esp
OnButt.BackgroundColor3 = Color3.fromRGB(1, 1, 1)
OnButt.Position = UDim2.new(0.250917912, 0, 0.37500003, 0)
OnButt.Size = UDim2.new(0.045287624, 1, 0.0851063803, 1)
OnButt.Visible = false

TextButton.Parent = OnButt
TextButton.BackgroundColor3 = Color3.fromRGB(1, 1, 1)
TextButton.Position = UDim2.new(0.231907964, 0, 0.242423773, 0)
TextButton.Size = UDim2.new(0.5, 0, 0.5, 0)
TextButton.Font = Enum.Font.SourceSansBold
TextButton.Text = "Hi"
TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TextButton.TextScaled = true
TextButton.TextSize = 14.000
TextButton.TextWrapped = true

-- Scripts:

local function TFDYDTB_fake_script() -- On.LocalScript 
	local script = Instance.new('LocalScript', On)

	local Players = game.Players

	script.Parent.MouseButton1Click:Connect(function()

		for i, v in pairs(Players:GetChildren()) do

			if v.Character:FindFirstChild("HiXPL") then

				print("Already has ESP")

			else

				print("Inserting esp!")

				local NewEsp = Instance.new("Highlight")
				NewEsp.Name = "HiXPL"
				NewEsp.FillColor = v.TeamColor.Color
				NewEsp.Parent = v.Character

				local NewBG = Instance.new("BillboardGui")
				NewBG.Name = "BGXPL"
				NewBG.Size = UDim2.new(0,100,0,50)
				NewBG.Parent = v.Character:WaitForChild("Head")
				NewBG.AlwaysOnTop = true
				NewBG.ExtentsOffset = Vector3.new(0,2,0)
				NewBG.MaxDistance = 300

				local NewTextBox = Instance.new("TextLabel")
				NewTextBox.Text = v.Name
				NewTextBox.Name = "NaXPL"
				NewTextBox.BackgroundColor3 = v.TeamColor.Color
				NewTextBox.BackgroundTransparency = 0.5
				NewTextBox.TextColor3 = Color3.fromRGB(255,255,255)
				NewTextBox.Font = Enum.Font.SourceSansBold
				NewTextBox.Size = UDim2.new(1,1,1,1)
				NewTextBox.TextScaled = true
				NewTextBox.Parent = NewBG

				v.Character:WaitForChild("Humanoid")
				game.Workspace.TestDummy.Humanoid.NameOcclusion = Enum.NameOcclusion.NoOcclusion


			end

		end

	end)
end
coroutine.wrap(TFDYDTB_fake_script)()
local function LAAZM_fake_script() -- On.Notif 
	local script = Instance.new('LocalScript', On)

	script.Parent.MouseButton1Click:Connect(function()

		game.StarterGui:SetCore("SendNotification", {

			Title = "ESP";
			Text = "ESP on!";
			Duration = 7.5;

		})

	end)
end
coroutine.wrap(LAAZM_fake_script)()
local function QSOPLRM_fake_script() -- Off.LocalScript 
	local script = Instance.new('LocalScript', Off)

	local Players = game.Players

	script.Parent.MouseButton1Click:Connect(function()

		for i, v in pairs(Players:GetChildren()) do

			if v.Character:FindFirstChild("HiXPL") and v.Character:FindFirstChild("BGXPL") then

			else

				game:GetService("Debris"):AddItem(v.Character:FindFirstChild("HiXPL"), 0)
				game:GetService("Debris"):AddItem(v.Character.Head:FindFirstChild("BGXPL"), 0)

			end

		end

	end)
end
coroutine.wrap(QSOPLRM_fake_script)()
local function PJBW_fake_script() -- Off.Notif 
	local script = Instance.new('LocalScript', Off)

	script.Parent.MouseButton1Click:Connect(function()

		game.StarterGui:SetCore("SendNotification", {

			Title = "ESP";
			Text = "ESP off!";
			Duration = 7.5;

		})

	end)
end
coroutine.wrap(PJBW_fake_script)()
local function IRDKI_fake_script() -- Exit.LocalScript 
	local script = Instance.new('LocalScript', Exit)

	script.Parent.MouseButton1Click:Connect(function()

		script.Parent.Parent.Parent.OnButt.Visible = true
		script.Parent.Parent.Visible = false

	end)
end
coroutine.wrap(IRDKI_fake_script)()
local function LTRUH_fake_script() -- Frame.Draggable 
	local script = Instance.new('LocalScript', Frame)

	script.Parent.Draggable = true
	script.Parent.Active = true
	script.Parent.Selectable = true
end
coroutine.wrap(LTRUH_fake_script)()
local function OCTWI_fake_script() -- Frame.Notif 
	local script = Instance.new('LocalScript', Frame)

	game.StarterGui:SetCore("SendNotification", {

		Title = "ESP";
		Text = "ESP started!";
		Duration = 7.5;

	})
end
coroutine.wrap(OCTWI_fake_script)()
local function XCMECT_fake_script() -- TextButton.LocalScript 
	local script = Instance.new('LocalScript', TextButton)

	script.Parent.MouseButton1Click:Connect(function()

		script.Parent.Parent.Parent.Frame.Visible = true
		script.Parent.Parent.Visible = false

	end)
end
coroutine.wrap(XCMECT_fake_script)()
